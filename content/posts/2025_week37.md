+++
title = "2025 week 35: 生产项目的 AI 辅助编程"
date = "2025-10-27"
tags = ["周记"]
+++

现在服务的客户项目非常注重文档，在做任务之前会需要先写一份 engineering doc，其中包含：

- 用户故事
- 验收标准
- 改动范围 / 技术实现
- 测试策略
- 超出范围
- 跨功能需求

不难看出这其实已经是一份足够详细到能让 AI 帮忙实现的 prompt 了。现在的工作流程就变成了首先利用 Github issue 来撰写一份详尽的 engineering doc，然后直接让大模型来阅读 engineering doc 进行实现。过程中有遇到的一些问题：

1. 直接让 VSCode for Copilot 访问网页会提示没有相关操作权限。但让他用 GitHub CLI (`gh`) 就可以了
2. 用 `gh` 来阅读 issue doc 获取文档及代码上下文时候，agent mode 会卡住，原因是因为 `gh issue view` 这个命令默认把输出送入了分页器（less），需要换成 `cat`(`gh config set pager cat`)。
3. 项目本身是用的 GraphQL 作为网络请求层（这是一个非常 LLM 友好的技术选型！），用脚本生成相关的 models 之后，需要让 agent 把生成的文件都加到 Xcode project 里，这样新生成的文件可以参与到编译。

由此基本上就做到了写完 engineering doc 之后让大模型阅读就能实现个七七八八，只需要自己编译验收，审查一下代码即可。一周下来在写文档和验收微调上耗费时间大概 1:1，算是做到了先思考再实现，思考时间大于真正上手写代码的时间。

### 娱乐

- 《逃离鸭科夫》 ⭐️⭐️⭐️⭐️⭐️  
  健身的时候听机核节目《[鸭科夫凭什么爆火？因为它是真懂搜打撤](https://www.gcores.com/radios/206164)》被安利的，收听过程中就知道这个游戏自己肯定喜欢，结果没想到开始玩一发不可收拾，当天就玩到了凌晨 4 点，很久没有这么沉迷一款游戏了，希望能出个 Switch 版本，这样可以在地铁里玩。
