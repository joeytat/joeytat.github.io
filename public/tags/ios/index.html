<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>IOS | Joeytat's Dev Log</title>
<meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://joeytat.github.io/tags/ios/><meta name=google-site-verification content="G-83QEEKFELL"><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://joeytat.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://joeytat.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://joeytat.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://joeytat.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://joeytat.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://joeytat.github.io/tags/ios/index.xml><link rel=alternate hreflang=en href=https://joeytat.github.io/tags/ios/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://joeytat.github.io/tags/ios/"><meta property="og:site_name" content="Joeytat's Dev Log"><meta property="og:title" content="IOS"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="IOS"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://joeytat.github.io/ accesskey=h title="Dev Log (Alt + H)"><img src=https://joeytat.github.io/apple-touch-icon.png alt aria-label=logo height=35>Dev Log</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://joeytat.github.io/archives title=Archives><span>Archives</span></a></li><li><a href=https://joeytat.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://joeytat.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://joeytat.github.io/tags/>Tags</a></div><h1>IOS
<a href=/tags/ios/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>翻译 - 图像优化</h2></header><div class=entry-content><p>翻译自 Optimizing Images by Jordan Morgan
有句话说：最好的照相机就是在你身边的那台。 如果这句俗语是对的，那么毫无疑问地— iPhone 是这个星球上最重要的相机， 并且我们的业界也证明了这一点。
在度假中? 如果没有在你的 Instagram Story 中留下几张照片，那就不算发生过。
爆炸新闻? 立刻打开 Twitter 来查看哪些媒体在通过照片实时报道事件。
等等。
由于图像在各个平台无处不在的出现，在低性能且内存紧张的情况下展示它们，会很容易地造成失控。 如果我们知道 UIKit 底层到底发生了什么，为什么以及如何处理图像，那么我们可以节省大量的资源开销，并且逃脱无情的系统清除制裁。
理论上来说 突击测验 - 这张我女儿的 266 KB 字节大小（并且还蛮时尚的）的照片，在一个 iOS App 中会展示需要用到多少内存?
剧透一下 - 不是 266 KB，也不是 2.66 MB，而是大概 14 MB。
为什么?
本质上来说 iOS 申请内存是根据图像的尺寸 - 而图像的文件大小反而影响不大。 这张图片的尺寸是 1718 x 2048 像素。 假设每个像素会占用 4 个字节:
1718 * 2048 * 4 / 1024 / 1024 = 13.42 MB 大约
...</p></div><footer class=entry-footer><span title='2019-06-19 00:00:00 +0000 UTC'>June 19, 2019</span></footer><a class=entry-link aria-label="post link to 翻译 - 图像优化" href=https://joeytat.github.io/posts/optimizing_images/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Platforms State of the Union(WWDC 2019)</h2></header><div class=entry-content><p>SwiftUI 在 View 层级提供了四种特性:
Declarative 通过声明式的语句来描述 UI 布局, 样式, 动画等.
Automatic 可交互形动画, 动态字号, 夜间模式都可以通过配置来轻松实现.
Compositional 组合性. 各种控件都能极其方便地组合在一起, 远比 UIStackView 方便.
VStack(alignment: .leading) { Text(item.title) Text(item.subtitle) } Consistent 自带 Reactive 特性. 将 Model 对象继承自 BindableObject, 并且声明属性为 @State 即可获得当属性改变时, UI 控件自动更新的效果.
真的如果如此美好, 超级吃性能的 xib 和 storyboard 是不是可以退出舞台了.
Xcode 11 Live Development 直接在 Xcode Preview 中拖动控件即可生成对应的 SwiftUI 代码. 对应的修改 SwiftUI 代码也能实时在 Preview 中响应.
Preview 还能通过提供一个 PreviewProvider 来为其提供数据填充展示, 样式更改甚至循环语句来生成多个 Preview 同时查看控件在夜间模式和白日模式下不同的效果.
Preview 部署在设备上也能热加载.
Package Management Swift 终于有自己的 Package manage 了. 并且和 Xcode 进行了深度整合.
...</p></div><footer class=entry-footer><span title='2019-06-05 00:00:00 +0000 UTC'>June 5, 2019</span></footer><a class=entry-link aria-label="post link to Platforms State of the Union(WWDC 2019)" href=https://joeytat.github.io/posts/wwdc2019_platforms_state_of_the_union/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>为什么 Cocoapods 1.5 支持编译静态库之后大家这么高兴?</h2></header><div class=entry-content><p>昨天在 Twitter 上看到 TualatriX 说把私有库都通过 Cocoapods 编译成静态库之后很爽, 就有点好奇到底是爽在哪里.
于是去搜了一下, 原来是前段时间(大半年前吧…), Cocoapods 发布了 1.5 的 release note, 宣布支持 Swift 静态库编译. 并且文中提到了对于担心动态二进制文件影响应用启动速度的人来说, 这是个了不起的更新. jh 那又是为什么 App 使用静态库会比动态库有更快的启动速度呢? 又跑去搜了一下官方文档. 打开 Dynamic Library Programming Topics 开头就看到:
This article introduces dynamic libraries and shows how using dynamic libraries instead of static libraries reduces both the file size and initial memory footprint of the apps that use them.
这篇文章主要介绍了动态库, 并且展示了通过使用动态库而不是静态库, 是如何缩减了应用的大小和初始内存空间的.
┻━┻ (ヽ(`Д ́)ノ( ┻━┻ 这和说好的不一样啊?
...</p></div><footer class=entry-footer><span title='2018-12-27 00:00:00 +0000 UTC'>December 27, 2018</span></footer><a class=entry-link aria-label="post link to 为什么 Cocoapods 1.5 支持编译静态库之后大家这么高兴?" href=https://joeytat.github.io/posts/cocoapods-1/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://joeytat.github.io/>Joeytat's Dev Log</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>